<div class="notPrint" style="font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;">
    <div class="p-0 mt-1" style="background-color:rgb(190, 171, 131)">
        <h5 class="text-center font-weight-bold">VISUALIZACION DE PRODUCTOS TERMINADOS</h5>
    </div>

    <div class="jumbotron p-1 mt-1" style="background-color:rgb(180, 138, 21); font-size: 15px; ">
        <div class="row text-white">

            <div class="col-3 mt-2">
                <div class="m-auto boldText">
                    <label><b>CODIGO</b></label>
                    <input (keyup)="buscar()" style="font-size: 22px" [(ngModel)]="id" type="number" class="ml-1">
                </div>
            </div>

            <div class="col-3 mt-2">
                <div class="m-auto boldText">
                    <label><b>DESCRIPCIÓN</b></label>
                    <input (keyup)="buscar()" style="font-size: 22px" [(ngModel)]="descripcion" type="text"
                        class="ml-1">
                </div>
            </div>

            <div class="col-3 mt-2">
                <div class="m-auto boldText">
                    <label><b>COLOR</b></label>
                    <input (keyup)="buscar()" style="font-size: 22px" [(ngModel)]="color" type="text" class="ml-1">
                </div>
            </div>
            <div class="col-3 mt-2">
                <div class="input-group boldText" style="width: 400px">
                    <label class="mt-2 mr-1"><b>COMPONENTE</b></label>
                    <select (click)="buscar()" style="font-size: 20px" class="custom-select m-auto"
                        [(ngModel)]="componente" id="recipient-name02">
                        <option value="AGENTE DE CURA">Agente de cura</option>
                        <option value="DILUYENTE">Diluyente</option>
                        <option value="ENDURECEDOR">Endurecedor</option>
                        <option value="INERTES">Inertes</option>
                        <option value="LÍQUIDO">Liquido</option>
                        <option value="MONOCOMPONENTE">Monocomponente</option>
                        <option value="POLVO">Polvo</option>
                        <option value="RESINA">Resina</option>
                        <option value="SEMIELABORADO">Semi-elaborado</option>
                    </select>
                </div>
            </div>
        </div>
        <hr class="bg-light">
        <div class="row m-auto text-white" style="margin-top: 1% !important; ">
            <div class="col-2">
                <div class="m-auto ml-2">
                    <h6 id="pe"><b>Peso Especifico: </b><span class="badge"
                            style="font-size: 18px; background-color: rgb(190, 171, 131);">{{pesoespecifico |
                            numeralPipe}}</span>
                    </h6>
                </div>
            </div>
            <div class="col-2">
                <div class="m-auto ml-2">
                    <h6 id="ppp"><b>Sólidos PPP: </b><span class="badge"
                            style="font-size: 18px; background-color: rgb(190, 171, 131);">{{solidosppp |
                            numeralPipe}}</span>
                    </h6>
                </div>
            </div>
            <div class="col-2">
                <div class="m-auto ml-2">
                    <h6 id="ppv"><b>Sólidos PPV: </b><span class="badge"
                            style="font-size: 18px; background-color: rgb(190, 171, 131);">{{solidosppv |
                            numeralPipe}}</span>
                    </h6>
                </div>
            </div>
            <div class="col-2">
                <div class="m-auto ml-2">
                    <h6 id="resi"><b>% Resina: </b><span class="badge"
                            style="font-size: 18px; background-color: rgb(190, 171, 131);">{{resina |
                            numeralPipe}}</span>
                    </h6>
                </div>
            </div>
            <div class="col-2">
                <div class="m-auto ml-2">
                    <h6 id="pig"><b>% Pigmento: </b><span class="badge"
                            style="font-size: 18px; background-color: rgb(190, 171, 131);">{{pigmento |
                            numeralPipe}}</span>
                    </h6>
                </div>
            </div>
            <div class="col-2">
                <div class="m-auto ml-2">
                    <h6 id="sol"><b>% Solvente: </b><span class="badge"
                            style="font-size: 18px; background-color: rgb(190, 171, 131);">{{solvente |
                            numeralPipe}}</span>
                    </h6>
                </div>
            </div>
        </div>
        <div class="row m-auto text-white">
            <div class="col-2">
                <div class="m-auto ml-2">
                    <h6 id="vis"><b>Viscosidad: </b><span class="badge"
                            style="font-size: 18px; background-color: rgb(190, 171, 131);">{{viscosidadspindle}}</span>
                    </h6>
                </div>
            </div>
            <div class="col-2">
                <div class="m-auto ml-2">
                    <h6 id="spi"><b>Spindle Nr.: </b><span class="badge"
                            style="font-size: 18px; background-color: rgb(190, 171, 131);">{{spindlenumero}}</span></h6>
                </div>
            </div>
            <div class="col-2">
                <div class="m-auto ml-2">
                    <h6 id="vuk"><b>Viscosidad UK: </b><span class="badge"
                            style="font-size: 18px; background-color: rgb(190, 171, 131);">{{viscosidaduk}}</span></h6>
                </div>
            </div>
            <div class="col-2">
                <div class="m-auto ml-2">
                    <h6 id="moli"><b>Molienda: </b><span class="badge"
                            style="font-size: 18px; background-color: rgb(190, 171, 131);">{{molienda}}</span></h6>
                </div>
            </div>
            <div class="col-2">
                <div class="m-auto ml-2">
                    <h6 id="bri"><b>Brillo: </b><span class="badge"
                            style="font-size: 18px; background-color: rgb(190, 171, 131);">{{brillo}}</span></h6>
                </div>
            </div>
            <div class="col-2">
                <div class="m-auto ml-2">
                    <h6 id="infpvc"><b>% PVC: </b><span class="badge"
                            style="font-size: 18px; background-color: rgb(190, 171, 131);">{{info3 |
                            numeralPipe}}</span>
                    </h6>
                </div>
            </div>
        </div>
        <hr class="bg-light">
    </div>

    <div style="overflow: scroll; height:370px; width: 95%;" class="m-auto">
        <table class="w-100">
            <tr class="text-center" *ngIf="array.length==0">
                <th></th>
            </tr>
            <tr class="bg-dark text-white text-center" *ngIf="array.length > 0">
                <th>CODIGO</th>
                <th>DESCRIPCION</th>
                <th>COLOR</th>
                <th>COLOR IGUAL</th>
                <th></th>
                <th>COMPONENTE</th>
                <th>FORMA CONJUNTO</th>
                <th>RELACION DE MEZCLADO</th>
                <th>FECHA ULTIMA ELABORACIÓN</th>
                <th>FECHA ULTIMA MODIFICACIÓN</th>
                <th>MODIFICADO POR</th>
                <th *ngIf="user_role == 'ADMIN_ROL'">COSTO POR</th>
                <th>UNIDAD DE MEDIDA</th>
                <th>STOCK</th>
            </tr>
            <tr *ngFor="let item of array" (click)="traerDf(item.id)" style="cursor: pointer;"
                class="hoverFila text-center">
                <td style="font-size: 16px;">{{item.id}}</td>
                <td style="font-size: 16px;">{{item.descripcion}}</td>
                <td style="font-size: 16px;">{{item.color}}</td>
                <td style="font-size: 16px;">{{item.colorigual}}</td>
                <td *ngIf="item.pesoespecifico == 0" style="background-color: rgb(219, 156, 39)">SIN FORMULA</td>
                <td *ngIf="item.pesoespecifico > 0"></td>
                <td style="font-size: 16px;">{{item.componente}}</td>
                <td style="font-size: 16px;">{{item.formaconjunto}}</td>
                <td style="font-size: 16px;">{{item.relaciondemezcla}}</td>
                <td style="font-size: 16px;">{{item.fechaultimaelaboracion | datePipe}}</td>
                <td style="font-size: 16px;">{{item.ultimamodificacion | datePipe}}</td>
                <td style="font-size: 16px;">{{item.modifico}}</td>
                <td *ngIf="user_role == 'ADMIN_ROL'" style="font-size: 16px;">{{item.precio | numeralPipe: 'true'}}</td>
                <td style="font-size: 16px;">{{item.unidadmedida}}</td>
                <td style="font-size: 16px;">{{item.stock | numeralPipe: 'true'}}</td>
            </tr>

            <tr class="bg-primary">
                <h6 class="text-white p-3" *ngIf="array.length==0"> NO HEMOS ENCONTRADO PRODUCTOS CON ESOS PARAMETROS :(
                </h6>
            </tr>
        </table>
    </div>

    <div class="row mt-2">
        <div class="col-1 ml-5">
            <label *ngIf="user_role == 'ADMIN_ROL' || user_role == 'LABORATORIO'">Renglones a imprimir</label>
            <input *ngIf="user_role == 'ADMIN_ROL' || user_role == 'LABORATORIO'" renglones="renglones"
                [(ngModel)]="renglones" [disabled]="array.length==0" type="number" class="form-control boldText">
        </div>
        <div class="col-10 mt-4">
            <button class="btn float-right" style="background-color: rgb(190, 171, 131);" [disabled]="array.length==0"
                (click)="resetearBusqueda()">RESETEAR BUSQUEDA</button>
            <button class="btn btn-warning float-lg-left ml-3" [disabled]="array.length==0"
                *ngIf="user_role == 'ADMIN_ROL' || user_role == 'LABORATORIO'" renglones='renglones'
                (click)="onExcel()">Generar Excel</button>
            <button class="btn btn-warning float-lg-left ml-3" style="margin-right: 7%;" (click)="imprimirBusqueda()"
                [disabled]="array.length==0" *ngIf="user_role == 'ADMIN_ROL' || user_role == 'LABORATORIO'">IMPRIMIR
                BUSQUEDA</button>
        </div>
    </div>

</div>

<div class="yesPrint">
    <table class="w-130">
        <tr class="text-center" *ngIf="array.length==0">
            <th></th>
        </tr>
        <tr class="bg-dark text-white text-center" *ngIf="array.length > 0">
            <th>CODIGO</th>
            <th>DESCRIPCION</th>
            <th>COLOR</th>
            <th>COLOR IGUAL</th>
            <th>COMPONENTE</th>
            <th>P.E.</th>
            <th>FORMA CONJUNTO</th>
            <th>RELACION DE MEZCLADO</th>
            <th>FECHA ULTIMA ELABORACIÓN</th>
            <th>FECHA ULTIMA MODIFICACIÓN</th>
            <th>MODIFICADO POR</th>
            <th>UNIDAD DE MEDIDA</th>
            <th>STOCK</th>
            <th>SOLIDOS PPP</th>
            <th>SOLIDOS PPV</th>
            <th>% RESINA</th>
            <th>% PIGMENTO</th>
            <th *ngIf="user_role == 'ADMIN_ROL'">COSTO</th>
        </tr>
        <tr *ngFor="let item of array" class="text-center">
            <td>{{item.id}}</td>
            <td>{{item.descripcion}}</td>
            <td>{{item.color}}</td>
            <td>{{item.colorigual}}</td>
            <td>{{item.componente}}</td>
            <td *ngIf="item.pesoespecifico == 0">SIN FORMULA</td>
            <td>{{item.pesoespecifico | numeralPipe}}</td>
            <td>{{item.formaconjunto}}</td>
            <td>{{item.relaciondemezcla}}</td>
            <td>{{item.fechaultimaelaboracion | datePipe}}</td>
            <td>{{item.ultimamodificacion | datePipe}}</td>
            <td>{{item.modifico}}</td>
            <td>{{item.unidadmedida}}</td>
            <td>{{item.stock | numeralPipe}}</td>
            <td>{{item.solidosppp | numeralPipe}}</td>
            <td>{{item.solidosppv | numeralPipe}}</td>
            <td>{{item.resina | numeralPipe}}</td>
            <td>{{item.pigmento | numeralPipe}}</td>
            <td *ngIf="user_role == 'ADMIN_ROL'">{{item.precio | numeralPipe}}</td>
        </tr>
    </table>
</div>