<div class="jumbotron p-2 mt-0" style="background-color:rgb(80, 71, 212); font-size: 11px;">
  <div class="row text-white">
    <div class="col-3">
      <div class="m-auto" style="width: 100%;">
        <label for="idp"><b> INGRESE CODIGO P.T.</b></label>
        <input (change)="validarId()" (keyup)="buscar()" id="idp" [(ngModel)]="idprod" type="number" class="ml-1"
          style="width: 30%;">
      </div>
    </div>
    <div class="col-1">
      <svg (click)="resetear1()" data-toggle="modal" style="cursor: pointer;" data-target="#exampleModal3"
        class="bi bi-search" width="2.5em" height="2.5em" viewBox="0 0 16 16" fill="white"
        xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd"
          d="M10.442 10.442a1 1 0 011.415 0l3.85 3.85a1 1 0 01-1.414 1.415l-3.85-3.85a1 1 0 010-1.415z"
          clip-rule="evenodd" />
        <path fill-rule="evenodd"
          d="M6.5 12a5.5 5.5 0 100-11 5.5 5.5 0 000 11zM13 6.5a6.5 6.5 0 11-13 0 6.5 6.5 0 0113 0z"
          clip-rule="evenodd" />
      </svg>
    </div>
    <div class="col-3">
      <div class="">
        <span class="badge badge-primary" style="font-size: 16px;">{{descripcion1}}</span>
      </div>
    </div>
    <div class="col-5">
      <div class="m-auto" style="width: 70%;">
        <label for="TFA"><b>INGRESE F(ormula), T(int) o A(lternativa)</b></label>
        <input (keyup)="buscar()" id="TFA" [(ngModel)]="tintoformoalt" type="text" class="ml-1" style="width: 10%;">
        <span class="badge badge-primary ml-5" style="font-size: 15px;">{{tintoformoalt}}</span>
      </div>
    </div>
  </div>
  <hr class="bg-light">
  <div class="row m-auto text-white" style="margin-top: 2% !important;">
    <div class="col-2">
      <div class="m-auto ml-2">
        <h6 style="font-size: 11px;" id="pe"><b>P.ESPECÍFICO: </b><span style="font-size: 13px;" class="badge"
            style="font-size: 12px; background-color: rgb(0, 0, 126);">{{pesoespecifico}}</span></h6>
      </div>
    </div>
    <div class="col-2">
      <div class="m-auto ml-2">
        <h6 style="font-size: 11px;" id="ppp"><b>SOLIDOS PPP: </b><span style="font-size: 13px;" class="badge"
            style="font-size: 12px; background-color: rgb(0, 0, 126);">{{solidosppp}}</span></h6>
      </div>
    </div>
    <div class="col-2">
      <div class="m-auto ml-2">
        <h6 style="font-size: 11px;" id="ppv"><b>SOLIDOS PPV: </b><span style="font-size: 13px;" class="badge"
            style="font-size: 12px; background-color: rgb(0, 0, 126);">{{solidosppv}}</span></h6>
      </div>
    </div>
    <div class="col-2">
      <div class="m-auto ml-2">
        <h6 style="font-size: 11px;" id="resi"><b>% RESINA : </b><span style="font-size: 13px;" class="badge"
            style="font-size: 12px; background-color: rgb(0, 0, 126);">{{resina}}</span></h6>
      </div>
    </div>
    <div class="col-2">
      <div class="m-auto ml-2">
        <h6 style="font-size: 11px;" id="pig"><b>% PIGMENTO : </b><span style="font-size: 13px;" class="badge"
            style="font-size: 12px; background-color: rgb(0, 0, 126);">{{pigmento}}</span></h6>
      </div>
    </div>
    <div class="col-2">
      <div class="m-auto ml-2">
        <h6 style="font-size: 11px;" id="pr"><b>PRECIO: </b><span style="font-size: 13px;" class="badge"
            style="font-size: 12px; background-color: rgb(0, 0, 126);">{{precio}}</span></h6>
      </div>
    </div>

  </div>
  <hr class="bg-light">
</div>

<div style="overflow: scroll; height:320px; width: 90%;" class="m-auto">
  <table class="w-100">
    <tr class="text-center" *ngIf="array.length==0">
      <th></th>
    </tr>
    <tr class="bg-dark text-white" *ngIf="array.length > 0">
      <th>IDPROD</th>
      <th>TFA</th>
      <th>ORDEN</th>
      <th>MPI</th>
      <th>CODMP</th>
      <th>CODPT</th>
      <th>DESCRIPCION</th>
      <th>CANTIDAD</th>
    </tr>
    <tr *ngFor="let item of array" class="hoverFila">
      <td>{{item.idprod}}</td>
      <td>{{item.tintoformoalt}}</td>
      <td>{{item.orden}}</td>
      <td>{{item.mpi}}</td>
      <td>{{item.codmp}}</td>
      <td>{{item.codpt}}</td>
      <td>{{item.descripcion}}</td>
      <td>{{item.cantidad}}</td>
    </tr>

    <tr class="bg-primary">
      <h6 class="text-white p-3" *ngIf="array.length==0"> NO HEMOS ENCONTRADO FILAS CON ESOS PARAMETROS :( </h6>
    </tr>
  </table>
</div>

<div class="row mt-3">
  <div class="col-10">
    <div style="width: 100%; text-align: right;">
      <h5 class="text-success" id="sumTot" *ngIf="sumaTot<=100"><b>Suma de cantidades: {{sumaTot}}</b></h5>
      <h5 class="text-danger" id="sumTot" *ngIf="sumaTot>100"><b>Suma de cantidades: {{sumaTot}}</b></h5>
    </div>
  </div>
  <div class="col-2">
    <button class="btn btn-info" style="margin-right: 6%;" (click)="resetearBusqueda()">RESETEAR BUSQUEDA</button>
  </div>
</div>

<div class="modal fade" id="exampleModal3" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel00">BUSQUEDA DE PRODUCTOS TERMINADOS</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <div class="row">
          <div class="col-4">
            <div class="form-group">
              <label for="recipient-name9" class="col-form-label">ID:</label>
              <input (keyup)="buscarP()" [(ngModel)]="idbus" type="number" class="form-control" id="recipient-name40">
            </div>
          </div>
          <div class="col-8">
            <div class="form-group">
              <label for="recipient-name9" class="col-form-label">DESCRIPCIÓN:</label>
              <input (keyup)="buscarP()" [(ngModel)]="termino1" type="text" class="form-control" id="recipient-name40">
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <div class="form-group">
              <label for="recipient-name010" class="col-form-label">COLOR:</label>
              <input (keyup)="buscarP()" [(ngModel)]="termino2" type="text" class="form-control" id="recipient-name01">
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="recipient-name012" class="col-form-label">COMPONENTE:</label>
              <input (keyup)="buscarP()" type="text" [(ngModel)]="termino3" class="form-control" id="recipient-name02">
            </div>
          </div>
        </div>

        <div style="overflow: scroll; height: 200px; width: 100%;">
          <table class="table table-hover">
            <tr>
              <th>COD</th>
              <th>DESCRIPCIÓN</th>
              <th>COLOR</th>
              <th>COMPONENTE</th>
            </tr>
            <tr class="hoverFila" data-dismiss="modal" *ngFor="let item2 of arrayBusqueda"
              (click)="seleccionarIdPt(item2.id)" style="cursor: pointer;">
              <td>{{item2.id}}</td>
              <td>{{item2.descripcion}}</td>
              <td>{{item2.color}}</td>
              <td>{{item2.componente}}</td>
            </tr>
          </table>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>